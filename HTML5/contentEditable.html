<!DOCTYPE html>
	<head>
		<style>

			#theDiv {
				min-width: 400px;
				max-width : 50%;
			};

			.editable {
				background-color:  #f2e793;
			};
			
			.canBeEdited {
				background-color: yellow;
			};
			
		</style>
	</head>
	
	<body>
		<div id = "theDiv">
			This is some text.
			When you hover over it, it will change its color to indicate that it can be edited. 
			When you click it or double click it, it again change its color and 
			will become editable. When you stop editing and click outside it, 
			it will become non-editable and will change its color back to white.
		</div>
		
		<script src = "https://code.jquery.com/jquery-3.3.1.js"></script>
		<script>
			$(document).ready(function() {
				var theDiv = $("#theDiv");
				var isBeingEdited = false;

				theDiv.on("mouseover", null, true, makeAppearEditable);
				theDiv.on("mouseout", null, false, makeAppearEditable);

				theDiv.on("click dblclick", null, true, makeEditable);
				theDiv.on("blur", null, false, makeEditable);
				
				function makeAppearEditable(event) {

					console.log(event.target + ": " + event.type);
					var targetElement = $(event.target);
					
					if (isBeingEdited) {
						return false;
					}

					if (event.data) {
						targetElement.addClass("canBeEdited");
					} else {
						targetElement.removeClass("canBeEdited");
					}
				};

				function makeEditable(event) {

					console.log(event.target + ": " + event.type);

					var targetElement = $(event.target);
					
					isBeingEdited = event.data;
					targetElement.attr("contenteditable", event.data);

					if (event.data) {
						targetElement.addClass("editable");
					} else {
						targetElement.removeClass("editable");
					}
				};
			});
		</script>
	</body>
</html>